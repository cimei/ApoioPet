{% extends "template_gov.html" %}
{% block content %}

<head>
<style>
  th, td {
    padding-top: 5px;
    padding-bottom: 1px;
  }
  dt, dd {
    display: inline-block;
    margin: 0; /* Remove default margins */
  }
</style>
</head>

<div class="col mb-5">
  <div class="br-breadcrumb">
    <ul class="crumb-list">
      <li class="crumb home"><a class="br-button circle" href="{{url_for('core.inicio')}}"><span class="sr-only">Página inicial</span><i class="fa fa-home"></i></a></li>
      <li class="crumb"><i class="icon fa fa-chevron-right"></i><span>Intervenções</span></li>
      <li class="crumb" data-active="active"><i class="icon fa fa-chevron-right"></i><span>Servidor e Unidade (SIAPE x Produção)</span>
      </li>
    </ul>
  </div>
</div>

<div class="container">

  <div class="jumbotron">

    {% macro render_field(field,obr) %}
     <dl>
      {% if obr == True %}
        <dt>{{ field.label(class="form-control-label") }}<span class="text-danger font-weight-bold">*</span></dt>
      {% else %}
        <dt>{{ field.label(class="form-control-label") }}</dt>
      {% endif %}
      <dd>{{ field(**kwargs)|safe }}
      {% if field.errors %}
        <ul class=errors>
        {% for error in field.errors %}
          <li><span class="text-danger font-weight-bold">{{ error }}</span></li>
        {% endfor %}
        </ul>
      {% endif %}
      </dd>
     </dl>
    {% endmacro %}

    <form class="needs-validation" method='POST' >
      {{ form.hidden_tag() }}

      <div class = "row">

          <div class="col-4">
            <div class="form-group">
              {{ render_field(form.cpf_consulta,class="form-control",obr=False) }}
            </div>
          </div>

          <div class="col-2">
            <div class="form-group">
              {{ form.submit(class="br-button secondary mr-3") }}
            </div>
          </div> 
        
      </div>
    
    </form>

    {% if cpf != None %}

      <table>
      <caption>Comparação Servidores e Unidades</caption>

      <tbody>
        <tr>
          <th scope="row"><p align = "center"><b>Campo</b></p></th>
          <th scope="row"><p align = "center"><b>SIAPE</b></p></th>
          <th scope="row"><p align = "center"><b>Produção</b></p></th>
          <th scope="row"><p align = "center"><b>Check</b></p></th>
        </tr>
        <tr>
          <th scope="row"><p align = "center"><b>Dados Servidor</b></p></th>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Nome</p></th>
          {% if c_s_i.cpf == c_u_i.cpf_titular_autoridade_uorg %}
            <td><span class="text-danger">{{c_s_i.nome}}</span></td>
          {% else %}
            <td>{{c_s_i.nome}}</td>
          {% endif %}
          {% if c_s_g_p and c_s_g_p.unidade_id == c_u_p.unidade_id %}
            <td><span class="text-danger">{{c_s_p.nome}}</span></td>
          {% else %}
            <td>{{c_s_p.nome}}</td>
          {% endif %}
          <td><p align = "center">{% if c_s_p.nome == c_s_i.nome %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Sexo</p></th>
          <td>{{c_s_i.sexo}}</td>
          <td>{{c_s_p.sexo}}</td>
          <td><p align = "center">{% if c_s_p.sexo == c_s_i.sexo %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>  
          <th scope="row"><p align = "center">E-mail</p></th>
          <td>{{c_s_i.emailfuncional}}</td>
          <td>{{c_s_p.email}}</td>
          <td><p align = "center">{% if c_s_p.email == c_s_i.emailfuncional %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Matrícula</p></th>
          <td>{{c_s_i.matriculasiape}}</td>
          <td>{{c_s_p.matricula}}</td>
          <td><p align = "center">{% if c_s_p.matricula == c_s_i.matriculasiape %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center">PGD</p></th>
          <td>{{c_s_i.participa_pgd}}</td>
          <td>{{c_s_p.participa_pgd}}</td>
          <td><p align = "center">{% if c_s_p.participa_pgd == c_s_i.participa_pgd %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Modal.</p></th>
          <td>{{c_s_i.modalidade_pgd}}</td>
          <td>{{c_s_p.modalidade_pgd}}</td>
          <td><p align = "center">{% if c_s_p.modalidade_pgd == c_s_i.modalidade_pgd %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Unidade</p></th>
          <td>{{c_s_i.coduorgexercicio}}</td>
          <td>{{c_u_p.codigo}}</td>
          <td><p align = "center">{% if c_u_p.codigo == c_s_i.coduorgexercicio %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center"><b>Dados Unidade</b></p></th>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Código</p></th>
          <td>{{c_u_i.codigo_siape}}</td>
          <td>{{c_u_p.codigo}}</td>
          <td><p align = "center">{% if c_u_p.codigo == c_u_i.codigo_siape %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Sigla</p></th>
          <td>{{c_u_i.siglauorg}}</td>
          <td>{{c_u_p.sigla}}</td>
          <td><p align = "center">{% if c_u_p.sigla == c_u_i.siglauorg %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Nome</p></th>
          <td>{{c_u_i.nomeuorg}}</td>
          <td>{{c_u_p.nome}}</td>
          <td><p align = "center">{% if c_u_p.nome == c_u_i.nomeuorg %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
        <tr>
          <th scope="row"><p align = "center">Cidade</p></th>
          <td>{{c_u_i.municipio_nome}}</td>
          <td>{{c_u_p.cidade_nome}}</td>
          <td><p align = "center">{% if c_u_p.cidade_nome == c_u_i.municipio_nome %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>  
        </tr>
        <tr>
          <th scope="row"><p align = "center">UF</p></th>
          <td>{{c_u_i.municipio_uf}}</td>
          <td>{{c_u_p.cidade_uf}}</td>
          <td><p align = "center">{% if c_u_p.cidade_uf == c_u_i.municipio_uf %}<b><i class="fa-solid fa-check"></i></b>{% else %}<b><i class="fa-solid fa-times text-danger"></i></b>{% endif %}</p></td>
        </tr>
      </tbody>

      </table>

    

      <div class="d-flex justify-content-around">        
          <a href="{{url_for('intervencoes.ajustar', cpf=cpf)}}" class="br-button danger mr-3" role="button">
                          <i class="fa fa-adjust"></i>&nbsp; Ajustar</a>
      </div>

    {% endif %}    

  </div>

</div>

{% endblock %}
